<link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
<script type="module">
    import { createChat } from 'https://raw.githubusercontent.com/WayneSimpson/n8n-chatbot-template/refs/heads/main/chat.bundle.es';
    
    createChat({
        webhookUrl: 'https://n8n.nocodecreative.io/webhook/f406671e-c954-4691-b39a-66c90aa2f103/chat',
        mode: 'window',
        showWelcomeScreen: true,
        initialMessages: [
            'Hello! I can you help you book an appointment to discuss your project, just let me know when you\'re free.'
        ],
        i18n: {
            en: {
                title: 'Let\'s Connect.',
                subtitle: 'Transform ideas into reality. Book an appointment now.',
                inputPlaceholder: 'Type your message here...',
                footer: '' // Set footer text to empty space
            },
        },
        metadata: {
            userId: '',
        }
    });

    const chatCustomStyles = `
        :root {
            /* Core Colors */
            --chat--color-primary: #e90ebb;
            --chat--color-primary-shade-50: #d00aa6;
            --chat--color-primary-shade-100: #b70892;
            --chat--color-secondary: #6a1b9a;
            
            /* Window Styling */
            --chat--window--width: 500px;
            --chat--window--height: 800px;
            --chat--border-radius: 12px;
            
            /* Header Styling */
            --chat--header--background: linear-gradient(135deg, #1a1a1a 0%, #2d1f3d 100%);
            --chat--header--color: #ffffff;
            --chat--header--padding: 1.25rem;
            --chat--header--border-bottom: 1px solid rgba(233, 14, 187, 0.3);
            --chat--heading--font-size: 1.5rem;
            --chat--subtitle--font-size: 0.9rem;
            --chat--subtitle--line-height: 0.4;
            
            /* Message Styling */
            --chat--message--font-size: 0.95rem;
            --chat--message--border-radius: 12px;
            --chat--message--padding: 12px 16px;
            --chat--message--bot--background: rgba(26, 26, 26, 0.8);
            --chat--message--bot--color: #ffffff;
            --chat--message--bot--border: 1px solid rgba(233, 14, 187, 0.3);
            
            /* Toggle Button Styling */
            --chat--toggle--background: linear-gradient(135deg, #e90ebb 0%, #6a1b9a 100%);
            --chat--toggle--hover--background: linear-gradient(135deg, #d00aa6 0%, #5d1787 100%);
            --chat--toggle--active--background: linear-gradient(135deg, #b70892 0%, #501374 100%);
            --chat--toggle--color: #ffffff;
            --chat--toggle--size: 60px;
            --chat--toggle--box-shadow: 0 4px 12px rgba(233, 14, 187, 0.3);
            
            /* Input Area Styling */
            --chat--textarea--background: rgba(26, 26, 26, 0.8);
            --chat--textarea--border: 1px solid rgba(233, 14, 187, 0.3);
            --chat--textarea--color: #ffffff;
            --chat--textarea--placeholder-color: rgba(255, 255, 255, 0.6);
        }
        
        /* Hide footer using multiple approaches */
        .n8n-chat-footer {
            display: none !important;
        }
        
        /* Additional Custom Styles */
        .n8n-chat-window {
            background: linear-gradient(180deg, #1a1a1a 0%, #2d1f3d 100%);
            box-shadow: 0 8px 32px rgba(233, 14, 187, 0.2);
            border: 1px solid rgba(233, 14, 187, 0.3);
        }
        
        .n8n-chat-toggle {
            box-shadow: var(--chat--toggle--box-shadow);
            transition: all 0.3s ease;
        }
        
        .n8n-chat-toggle:hover {
            transform: scale(1.05);
        }
        
        .n8n-chat-message-container {
            background: transparent;
        }
        
        .n8n-chat-input textarea {
            border-radius: 8px;
        }

        /* Enhanced and Visible User Message Styling */
        .n8n-chat-message.user {
            background: linear-gradient(135deg, #e90ebb 0%, #6a1b9a 100%) !important;
            color: #ffffff !important;
            padding: 12px 16px !important;
            border-radius: 12px !important;
            margin: 8px 0 !important;
            max-width: 80% !important;
            align-self: flex-end !important;
            box-shadow: 0 4px 12px rgba(233, 14, 187, 0.2) !important;
            border: none !important;
        }

        .n8n-chat-message.user span,
        .n8n-chat-message.user div,
        .n8n-chat-message.user p {
            color: #ffffff !important;
            font-weight: 500 !important;
        }

        /* Ensuring chat area has proper background */
        .n8n-chat-messages {
            background-color: #ffffff !important;
            padding: 1rem !important;
        }

        /* Bot message styling to match the aesthetic */
        .n8n-chat-message.bot {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(233, 14, 187, 0.3);
            color: #ffffff;
            padding: 12px 16px;
            border-radius: 12px;
            margin: 8px 0;
            max-width: 80%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

    `;

    const styleSheet = document.createElement("style");
    styleSheet.type = "text/css";
    styleSheet.innerText = chatCustomStyles;
    document.head.appendChild(styleSheet);
</script>
